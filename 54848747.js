import{f as e,g as t,b as n,h as o}from"./9990871a.js";!function(n,o){const a=o.querySelector("form"),i=a.querySelector("input"),s=a.querySelector("button");let r="",l=null;n.addEventListener("query",e=>{const t=e.detail,n=null===t.text&&void 0!==t.focus&&t.selection;if(r=t.focus,!n)return l||(i.value="",o.hidden=!0),!1;o.hidden=!1});const d=e=>{s.disabled=!i.value};"input change".split(/\s+/).forEach(e=>i.addEventListener(e,d)),a.addEventListener("submit",n=>{if(n.preventDefault(),l)return!1;a.classList.add("pending"),i.disabled=!0,s.disabled=!0;(l=e(i.value,r).then(e=>{if(!e.ok)throw new Error(e.status);return s.classList.add("success"),!1}).catch(e=>(s.classList.add("failure"),console.warn("failed to submit emoji",e),!0)).then(e=>{a.classList.remove("pending"),i.disabled=!1,i.value="",i.dispatchEvent(new CustomEvent("change")),l=null,r||(o.hidden=!0)})).then(()=>t(2e3)).then(()=>{s.className=""})})}(typer,advanced);const a=1e4,i=2*a,s=document.getElementById("rotate"),r=Array.from(s.children);(async function(){for(await n(i),r.shift().classList.remove("active"),r.sort(()=>Math.random()-.5);;)r[0].classList.add("active"),await n(a),r[0].classList.remove("active"),r.push(r.shift())})().catch(console.warn);const l=["Type words, receive emoji 👍","Use your keyboard to search 🔎","Find emoji that your heart desires ❤️⌨️","Keyboard. Emoji. Forever 😍","Keyboard emoji since 2016 📜","Just tap a key to search 👆","Type, tap enter to copy, profit 💸","Emoji for every occasion, just type 🔡"],d=Math.floor(Math.random()*l.length);if(typer.placeholder=l[d],navigator.serviceWorker){navigator.serviceWorker.register("./sw.js").catch(e=>{console.warn("failed to register SW",e)});const e=Boolean(navigator.serviceWorker.controller);navigator.serviceWorker.addEventListener("controllerchange",()=>{e&&(console.debug("got SW controllerchange, reload"),window.location.reload())})}let c=!0;function u(){"onLine"in navigator&&c!==navigator.onLine&&(ga("send","event","network",navigator.onLine?"online":"offline"),c=navigator.onLine)}u(),window.addEventListener("online",()=>o(u)),window.addEventListener("offline",()=>o(u)),window.setTimeout(()=>{const e=(window.localStorage.sources||"").split(",").filter(Boolean),t=/utm_source=([_\w\d]*)/.exec(window.location.search);t&&(-1===e.indexOf(t[1])&&e.push(t[1]),window.localStorage.sources=e.join(",")),e.length||window.localStorage["dismiss-install"]||(document.querySelector("footer").addEventListener("click",e=>{e.target.classList.contains("dismiss-install")&&(ga("send","event","install","dismiss"),window.localStorage["dismiss-install"]=!0,document.body.removeAttribute("data-install"))}),document.body.dataset.install||(navigator.userAgent.match(/Chrome\//)&&navigator.platform.match(/^(Mac|Win|Linux)/)?document.body.dataset.install="ext":"undefined"==typeof Windows&&navigator.platform.startsWith("Win")&&(document.body.dataset.install="windows")))},2500),function(){let e=null;function t(){document.body.removeAttribute("data-install"),e=null}window.addEventListener("beforeinstallprompt",t=>(ga("send","event","install","available"),document.body.dataset.install="pwa",e=t,t.preventDefault(),!1)),window.addEventListener("appinstalled",e=>{ga("send","event","install","installed"),t()}),document.getElementById("install").addEventListener("click",n=>{e&&(e.prompt(),e.userChoice&&e.userChoice.then(e=>{ga("send","event","install",e)}).catch(e=>{console.warn("beforeinstallprompt prompt",e)}).then(t))})}();

//# sourceMappingURL=54848747.js.map